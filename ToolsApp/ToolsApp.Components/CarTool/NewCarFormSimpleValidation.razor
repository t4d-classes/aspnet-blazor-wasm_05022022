@if (validationMessages.Any())
{
  <ul>
    @foreach(var msg in validationMessages)
    {
      <li>@msg</li>
    }
  </ul>
}
<form>
  <label>
    Make:
    <input type="text" @bind="carForm.Make" />
  </label>
  <label>
    Model:
    <input type="text" @bind="carForm.Model" />
  </label>
  <label>
    Year:
    <input type="number" @bind="carForm.Year" />
  </label>
  <label>
    Color:
    <input type="text" @bind="carForm.Color" />
  </label>
  <label>
    Price:
    <input type="number" @bind="carForm.Price" />
  </label>
  <button type="button" @onclick="doSubmitForm">@ButtonText</button>
</form>

@code {

  private List<string> validationMessages = new List<string>();

  private CarFormModel carForm = new();

  [Parameter]
  public string ButtonText { get; set; } = "Submit Car";

  [Parameter]
  public EventCallback<NewCar> OnSubmitForm { get; set; }


  private async Task doSubmitForm() {

    validationMessages.Clear();

    if (carForm.Year < 1900)
    {
      validationMessages.Add("Invalid car year. Must be greater than 1899.");
    }

    if (validationMessages.Any()) {
      return;
    }

    await OnSubmitForm.InvokeAsync(new NewCar {
      Make=carForm.Make,
      Model=carForm.Model,
      Year=carForm.Year,
      Color=carForm.Color,
      Price=carForm.Price,
    });

    carForm = new();
  }

  class CarFormModel {
    public string Make { get; set; } = "";
    public string Model { get; set; } = "";
    public int Year { get; set; } = 1900;
    public string Color { get; set; } = "";
    public decimal Price { get; set; } = 0;
  }
}